
**Создать программную платформу (Python)**, организованную как набор автозапускаемых микросервисных скриптов-агентов, взаимодействующих с OpenAI API. Управление, мониторинг и регистрация агентов централизованы через CLI-диспетчер.

### 1. Архитектура
- **Диспетчер** — основной управляющий процесс, запускаемый через CLI.  
  - Основные задачи: запуск, остановка и мониторинг микроскриптов; передача входных запросов; логирование.
  - Необходимо предусмотреть CLI-интерфейс со стандартными командами.
- **Агенты** — независимые скрипты, наследуемые от Базового Класса, не знают друг о друге, взаимодействуют только с диспетчером.
- **Регистрация агентов** — статический список (JSON/YAML/txt) в отдельном конфиг-файле. Расширяемость и редактирование вручную.

### 2. Общий интерфейс:
- **Базовый класс агента** должен реализовать:
  - Метод взаимодействия/обработки запроса от диспетчера
  - Универсальный метод обращения к OpenAI (с возможностью переопределять model/temperature/max_tokens опционально)
  - Метод логирования событий и ошибок в stdout через диспетчер
  - Метод для HTTP-запросов (GET/POST) для работы с внешними сервисами
- **Все настройки отдельного агента** — отдельный конфиг-файл (JSON/YAML) с параметрами.
- Интерфейс максимально упрощён для быстрого добавления новых агентов: реализую только ядро-логику, остальное — “из коробки” через наследование.

### 3. Работа с OpenAI API:
- Каждый агент через специальный метод обращается к внешней нейросети (OpenAI) для решения строго одной задачи, связанной с текстом (например, разбирает выражения по датам, парсит смысловые элементы).
- Значения model, temperature, token_limit — опциональные, с дефолтами, можно задавать в конфиге агента.
- OpenAI ключи — только через переменные окружения.

### 4. Масштабируемость:
- Нет параллельного исполнения/шардирования: агенты обрабатываются последовательно, ресурсы не дублируются.
- Создание нового агента — просто реализация нового наследующего скрипта + добавление в статичный конфиг диспетчера.

### 5. Логирование:
- Весь журнал ведётся диспетчером (запросы, действия агентов, ошибки) исключительно в stdout (структурировано: timestamp, тип события, участник).
- Все коммуникации с OpenAI и ошибки детально фиксируются.

### 6. Примеры агентов:
- **get-html-agent** — принимает запрос с URL и CSS-селектором, возвращает HTML контент по селектору с любой страницы.
- **parse-html-selectors-agent** — по вводимой задаче (например, “дай CSS-селектор цены на странице”) возвращает найденный селектор.

### 7. Тестирование:
- Примеры двух агентов включить в дистрибутив.
- Шаблоны юнит-тестов не требуются.


## Usage

Install dependencies:

```bash
pip install -r requirements.txt
```

List available agents:

```bash
python dispatcher.py list
```

Run an agent with JSON input:

```bash
python dispatcher.py run get_html_agent '{"url": "https://example.com", "selector": "title"}'
```

Set `OPENAI_API_KEY` environment variable before running agents that use OpenAI.
